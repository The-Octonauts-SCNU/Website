<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📘 文档资源 - The Octonauts</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div class="container">
    <header>
      <h1>📘 文档资源</h1>
      <nav>
        <a href="index.html">🏠 首页</a>
        <a href="software.html">💻 软件工具</a>
        <a href="templates.html">📂 模板集合</a>
        <a href="login.html">🔒 登录</a>
      </nav>
      <div class="search-container">
        <input type="text" id="search-input" placeholder="🔍 搜索资源..." />
        <button onclick="searchResources()">搜索</button>
      </div>
    </header>

    <main>
      <ul class="resource-list" id="resource-list">
        <li><a href="#" onclick="downloadResource('嵌入式入门指南', 'https://example.com/doc1.pdf')">📄 嵌入式入门指南</a></li>
        <li><a href="#" onclick="downloadResource('STM32 启动配置详解', 'https://example.com/doc2.pdf')">📄 STM32 启动配置详解</a></li>
        <!-- 更多资源 -->
      </ul>
    </main>

    <footer>
      <p>© 2025 The Octonauts. Powered by HTML & GitHub Pages</p>
    </footer>
  </div>

  <script>
    // 搜索功能
    function searchResources() {
      const input = document.getElementById("search-input").value.toLowerCase();
      const items = document.querySelectorAll("#resource-list li");

      items.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(input) ? "block" : "none";
      });
    }

    // 登录检查 & 资源下载
    function downloadResource(name, url) {
      const isLoggedIn = localStorage.getItem("loggedIn");

      if (isLoggedIn === "true") {
        window.open(url, "_blank");
      } else {
        alert(`请先登录后才能下载《${name}》📄`);
        window.location.href = "login.html";
      }
    }
  </script>
</body>
</html>
